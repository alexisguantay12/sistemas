{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <!-- MAPA DE SECTORES -->
    <h5 class="text-custom-primary mb-4">
        <i class="fas fa-map me-2"></i>Resumen General
    </h5>

    <!-- RESUMEN GENERAL -->
    <div class="row mb-4 g-3">
        <div class="col-md-3 col-sm-6">
            <div class="card resumen-box border-0 text-white bg-primary">
                <div class="card-body text-center py-3">
                    <div class="fs-4 mb-2"><i class="fas fa-desktop"></i></div>
                    <h5 class="fw-bold mb-0">{{ total_pcs }}</h5>
                    <small>PCs</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="card resumen-box border-0 text-white bg-success">
                <div class="card-body text-center py-3">
                    <div class="fs-4 mb-2"><i class="fas fa-print"></i></div>
                    <h5 class="fw-bold mb-0">{{ total_impresoras }}</h5>
                    <small>Impresoras</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="card resumen-box border-0 text-white bg-warning">
                <div class="card-body text-center py-3">
                    <div class="fs-4 mb-2"><i class="fas fa-file-import"></i></div>
                    <h5 class="fw-bold mb-0">{{ total_escaneres }}</h5>
                    <small>Escáneres</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="card resumen-box border-0 text-white bg-dark">
                <div class="card-body text-center py-3">
                    <div class="fs-4 mb-2"><i class="fas fa-server"></i></div>
                    <h5 class="fw-bold mb-0">{{ total_servidores }}</h5>
                    <small>Servidores</small>
                </div>
            </div>
        </div>
    </div>

    <!-- MAPA DE SECTORES -->
    <h5 class="text-custom-primary mb-4" >
        <i class="fas fa-map me-2"></i>Disposicion por Sectores del Hospital
    </h5>

    <div class="row g-4">
        {% for sector in sectores %}
        <div class="col-sm-6 col-md-4 col-xl-3">
            <div class="card border-0 shadow-sm sector-card h-100">
                <div class="card-body px-3 py-3">
                    <div class="d-flex align-items-center mb-3">
                        <div class="text-custom-primary icon-circle bg-light shadow-sm me-3" >
                            <i class="fas fa-building fa-lg"></i>
                        </div>
                        <h6 class="text-custom-primary mb-0 fw-bold" >{{ sector.nombre }}</h6>
                    </div>
                    <ul class="list-unstyled small ms-1">
                        <li class="mb-1"><i class="fas fa-desktop me-2 text-muted"></i> <strong>{{ sector.pc_count }}</strong> PCs</li>
                        <li class="mb-1"><i class="fas fa-print me-2 text-muted"></i> <strong>{{ sector.impresora_count }}</strong> Impresoras</li>
                        <li class="mb-1"><i class="fas fa-file-import me-2 text-muted"></i> <strong>{{ sector.escaner_count }}</strong> Escáneres</li>
                        {% if sector.nombre|lower == 'sistemas' %}
                        <li class="mb-1"><i class="fas fa-server me-2 text-muted"></i> <strong>{{ sector.servidor_count }}</strong> Servidores</li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .resumen-box {
        border-radius: 1rem;
        transition: transform 0.2s ease;
    }
    .text-custom-primary {
        color: #5267de; /* El color que desees */
    }
    .resumen-box:hover {
        transform: scale(1.03);
    }

    .sector-card {
        border-radius: 1rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .sector-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
    }

    .icon-circle {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
    }
</style>
{% endblock %}
